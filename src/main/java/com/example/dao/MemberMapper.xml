<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.dao.MemberMapper">

    <resultMap type="member" id="result">
        <id property="member_id" column="member_id" />
        <result property="member_password" column="member_password" />
        <result property="member_name" column="member_name" />
        <result property="member_isRestricted" column="member_isRestricted" />
        <result property="member_isAdmin" column="member_isAdmin" />
    </resultMap>

    <select id="getAllMembers" resultType="member" resultMap="result">
        SELECT * FROM member
    </select>

    <insert id="insertMember" parameterType="member" keyProperty="id" useGeneratedKeys="true">
        INSERT INTO member(
                           member_id,member_password,member_name,member_isRestricted,member_isAdmin
        )
        VALUES(#{member_id}, #{member_password}, #{member_name}, #{member_isRestricted}, #{member_isAdmin})
    </insert>

    <update id="updateMember" parameterType="member">
        UPDATE member SET   member_password = #{member_password}, member_name = #{member_name},
                            question_media = #{question_media}, question_second = #{question_second}, question_prepTime = #{question_prepTime},
                          member_isRestricted = #{member_isRestricted},member_isAdmin = #{member_isAdmin}
        WHERE member_id = #{member_id}
    </update>

    <delete id="deleteMember" parameterType="int">
        DELETE FROM member WHERE id = #{member_id}
    </delete>

    <select id="findById" parameterType="int" resultType="member" resultMap="result">
        SELECT * FROM member WHERE id = #{member_id}
    </select>
</mapper>